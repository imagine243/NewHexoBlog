title: svn2git
date: 2016-08-01 21:21:57
tags: git
tags: svn
categories : git
---

## 从svn转向git
### 缘由
公司的unity项目使用的svn做项目的版本管理和协作，在实际使用中遇到几个问题。

1. 后端程序使用git作为代码版本管理，开发中经常出现客户端和后端提交代码不同步的问题， 客户端的代码每次提交不会是完整的功能，而后段是分支开发，每次都是完整功能完成后合并到master分支
2. 跟上面的问题有些相似，客户端因为不是分支开发的模式，在游戏的复杂的功能需求下，应对乏力，经常出现本地代码不能提交，手动合并代码的情况。
3. 现在游戏主要以海外版本为主，每个国家都对应的不同的分支，而且还有大版本的更新，svn在分支使用上非常的笨重，非常影响工作的效率，比如每个分支都要重新牵出，重新unity转平台，再比如修改bug需要合并到多个分支。svn缓慢的速度严重影响工作。
4. 打包机使用的是ssd，空间有限，svn的每一个分支都需要重新checkout项目，使用git后，在同一个项目切换分支，可以节省大量空间。

但是使用git也有一定的弊端，我们unity项目在两个分支中如果有大量的图片不同，那么切换分支就需要大量的时间来转换图片。

#### 综合考虑
项目进入后期，主要以海外平台为主，特征是分支多，每个版本之间的资源改变小，是用git后可以解决原来的问题，上面所说的弊端只有很少情况下出现，如果真的有分支之间图片资源差异比较大，可以重新clone一份项目，使用svn的方式。

### 服务器端部署git

#### 解决方案 
- [服务器只使用git](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137583770360579bc4b458f044ce7afed3df579123eca000)
- [gitlab](https://about.gitlab.com/)
- [gogs](https://gogs.io/)

最终选用gogs，功能相对齐全，已经满足我们的使用，安装十分简便， gitlab安装太复杂，珍惜时间。

#### 安装gogs
TODO

### 迁移svn内容到git




